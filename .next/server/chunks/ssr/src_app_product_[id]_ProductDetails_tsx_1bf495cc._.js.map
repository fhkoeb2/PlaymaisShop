{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/fhkoeb977/Documents/Projects/Cursor/src/app/product/%5Bid%5D/ProductDetails.tsx"],"sourcesContent":["'use client';\n\nimport { useCart } from '@/lib/cart';\nimport Image from 'next/image';\nimport { useState } from 'react';\nimport { type Product } from '@/lib/db/schema';\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\nimport Link from 'next/link';\n\ninterface ProductDetailsProps {\n  product: Product;\n  relatedProducts: Product[];\n}\n\nexport default function ProductDetails({ product, relatedProducts }: ProductDetailsProps) {\n  const { addItem } = useCart();\n  const [quantity, setQuantity] = useState(1);\n  const [zoomLevel, setZoomLevel] = useState(1);\n  const [isZoomed, setIsZoomed] = useState(false);\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n\n  // Combine main image with additional images\n  const allImages = [product.image, ...(product.images || [])];\n\n  const handleAddToCart = () => {\n    addItem(product, quantity);\n  };\n\n  const handleMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\n    if (!isZoomed) return;\n\n    const { left, top, width, height } = e.currentTarget.getBoundingClientRect();\n    const x = ((e.clientX - left) / width) * 100;\n    const y = ((e.clientY - top) / height) * 100;\n    setPosition({ x, y });\n  };\n\n  const handleZoomIn = () => {\n    setZoomLevel(prev => Math.min(prev + 0.5, 3));\n    setIsZoomed(true);\n  };\n\n  const handleZoomOut = () => {\n    setZoomLevel(prev => Math.max(prev - 0.5, 1));\n    if (zoomLevel <= 1.5) {\n      setIsZoomed(false);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    setIsZoomed(false);\n    setZoomLevel(1);\n  };\n\n  const handlePreviousImage = () => {\n    setCurrentImageIndex(prev => (prev === 0 ? allImages.length - 1 : prev - 1));\n    setIsZoomed(false);\n    setZoomLevel(1);\n  };\n\n  const handleNextImage = () => {\n    setCurrentImageIndex(prev => (prev === allImages.length - 1 ? 0 : prev + 1));\n    setIsZoomed(false);\n    setZoomLevel(1);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-12\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n          {/* Product Image Gallery */}\n          <div className=\"space-y-4\">\n            <div className=\"relative\">\n              <div \n                className=\"relative aspect-square group cursor-zoom-in\"\n                onMouseMove={handleMouseMove}\n                onMouseLeave={handleMouseLeave}\n              >\n                <div className=\"absolute inset-0 overflow-hidden rounded-lg\">\n                  <Image\n                    src={allImages[currentImageIndex]}\n                    alt={`${product.name} - Image ${currentImageIndex + 1}`}\n                    fill\n                    className=\"object-cover transition-transform duration-300\"\n                    style={{\n                      transform: isZoomed \n                        ? `scale(${zoomLevel}) translate(${position.x - 50}%, ${position.y - 50}%)`\n                        : 'scale(1)',\n                      transformOrigin: 'center',\n                    }}\n                  />\n                </div>\n                {allImages.length > 1 && (\n                  <>\n                    <button\n                      onClick={handlePreviousImage}\n                      className=\"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full shadow-md hover:bg-white transition-colors\"\n                    >\n                      <ChevronLeft className=\"h-6 w-6\" />\n                    </button>\n                    <button\n                      onClick={handleNextImage}\n                      className=\"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full shadow-md hover:bg-white transition-colors\"\n                    >\n                      <ChevronRight className=\"h-6 w-6\" />\n                    </button>\n                  </>\n                )}\n              </div>\n            </div>\n\n            {/* Thumbnail Gallery */}\n            {allImages.length > 1 && (\n              <div className=\"flex gap-2 overflow-x-auto pb-2\">\n                {allImages.map((image, index) => (\n                  <button\n                    key={index}\n                    onClick={() => {\n                      setCurrentImageIndex(index);\n                      setIsZoomed(false);\n                      setZoomLevel(1);\n                    }}\n                    className={`relative w-20 h-20 flex-shrink-0 rounded-lg overflow-hidden ${\n                      currentImageIndex === index ? 'ring-2 ring-indigo-500' : ''\n                    }`}\n                  >\n                    <Image\n                      src={image}\n                      alt={`${product.name} thumbnail ${index + 1}`}\n                      fill\n                      className=\"object-cover\"\n                    />\n                  </button>\n                ))}\n              </div>\n            )}\n\n            <div className=\"flex justify-center gap-4\">\n              <button\n                onClick={handleZoomOut}\n                className=\"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors\"\n                disabled={zoomLevel <= 1}\n              >\n                Zoom Out\n              </button>\n              <button\n                onClick={handleZoomIn}\n                className=\"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors\"\n                disabled={zoomLevel >= 3}\n              >\n                Zoom In\n              </button>\n            </div>\n          </div>\n\n          {/* Product Info */}\n          <div className=\"space-y-6\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">{product.name}</h1>\n              <p className=\"mt-2 text-2xl text-gray-900\">${Number(product.price).toFixed(2)}</p>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <h2 className=\"text-lg font-medium text-gray-900\">Description</h2>\n                <p className=\"mt-2 text-gray-600\">{product.description}</p>\n              </div>\n\n              <div>\n                <h2 className=\"text-lg font-medium text-gray-900\">Details</h2>\n                <dl className=\"mt-2 space-y-2\">\n                  <div className=\"flex justify-between\">\n                    <dt className=\"text-gray-600\">Category</dt>\n                    <dd className=\"text-gray-900\">{product.category}</dd>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <dt className=\"text-gray-600\">Age Range</dt>\n                    <dd className=\"text-gray-900\">{product.ageRange}</dd>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <dt className=\"text-gray-600\">Pieces</dt>\n                    <dd className=\"text-gray-900\">{product.pieces}</dd>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <dt className=\"text-gray-600\">Rating</dt>\n                    <dd className=\"text-gray-900\">{product.rating}/5</dd>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <dt className=\"text-gray-600\">Reviews</dt>\n                    <dd className=\"text-gray-900\">{product.reviews}</dd>\n                  </div>\n                </dl>\n              </div>\n\n              <div className=\"border-t border-gray-200 pt-6\">\n                <div className=\"flex items-center space-x-4\">\n                  <label htmlFor=\"quantity\" className=\"text-sm font-medium text-gray-700\">\n                    Quantity\n                  </label>\n                  <select\n                    id=\"quantity\"\n                    value={quantity}\n                    onChange={(e) => setQuantity(Number(e.target.value))}\n                    className=\"rounded-md border-gray-300 py-1.5 text-base leading-5 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm\"\n                  >\n                    {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((num) => (\n                      <option key={num} value={num}>\n                        {num}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <button\n                  onClick={handleAddToCart}\n                  className=\"mt-6 w-full bg-indigo-600 text-white px-6 py-3 rounded-md font-medium hover:bg-indigo-700 transition-colors\"\n                >\n                  Add to Cart\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Customers Also Viewed Section */}\n        {relatedProducts.length > 0 && (\n          <div className=\"mt-16\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Customers Also Viewed</h2>\n            <div className=\"relative\">\n              <div className=\"overflow-x-auto pb-4\">\n                <div className=\"flex gap-6\">\n                  {relatedProducts.map((relatedProduct) => (\n                    <Link\n                      key={relatedProduct.id}\n                      href={`/product/${relatedProduct.id}`}\n                      className=\"group flex-shrink-0 w-64\"\n                    >\n                      <div className=\"bg-white rounded-lg shadow-sm overflow-hidden transition-transform duration-300 group-hover:scale-105\">\n                        <div className=\"relative aspect-square\">\n                          <Image\n                            src={relatedProduct.image}\n                            alt={relatedProduct.name}\n                            fill\n                            className=\"object-cover\"\n                          />\n                        </div>\n                        <div className=\"p-4\">\n                          <h3 className=\"text-lg font-medium text-gray-900 group-hover:text-indigo-600 transition-colors\">\n                            {relatedProduct.name}\n                          </h3>\n                          <p className=\"mt-1 text-lg font-medium text-gray-900\">\n                            ${Number(relatedProduct.price).toFixed(2)}\n                          </p>\n                          <div className=\"mt-2 flex items-center\">\n                            <div className=\"flex items-center\">\n                              {[...Array(5)].map((_, i) => (\n                                <svg\n                                  key={i}\n                                  className={`h-4 w-4 ${\n                                    i < Math.floor(Number(relatedProduct.rating))\n                                      ? 'text-yellow-400'\n                                      : 'text-gray-300'\n                                  }`}\n                                  fill=\"currentColor\"\n                                  viewBox=\"0 0 20 20\"\n                                >\n                                  <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\n                                </svg>\n                              ))}\n                            </div>\n                            <span className=\"ml-2 text-sm text-gray-500\">\n                              ({relatedProduct.reviews})\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    </Link>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":"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","debugId":null}}]
}