{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/fhkoeb977/Documents/Projects/Cursor/src/lib/cart.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { type Product } from './db/schema';\n\ninterface CartItem {\n  product: Product;\n  quantity: number;\n}\n\ninterface CartContextType {\n  items: CartItem[];\n  addItem: (product: Product, quantity?: number) => void;\n  removeItem: (productId: number) => void;\n  updateQuantity: (productId: number, quantity: number) => void;\n  clearCart: () => void;\n  totalItems: number;\n  totalPrice: number;\n}\n\nconst CartContext = createContext<CartContextType | undefined>(undefined);\n\nexport function CartProvider({ children }: { children: ReactNode }) {\n  const [items, setItems] = useState<CartItem[]>([]);\n\n  // Load cart from localStorage on mount\n  useEffect(() => {\n    const savedCart = localStorage.getItem('cart');\n    if (savedCart) {\n      setItems(JSON.parse(savedCart));\n    }\n  }, []);\n\n  // Save cart to localStorage whenever it changes\n  useEffect(() => {\n    localStorage.setItem('cart', JSON.stringify(items));\n  }, [items]);\n\n  const addItem = (product: Product, quantity = 1) => {\n    setItems(currentItems => {\n      const existingItem = currentItems.find(item => item.product.id === product.id);\n      \n      if (existingItem) {\n        return currentItems.map(item =>\n          item.product.id === product.id\n            ? { ...item, quantity: item.quantity + quantity }\n            : item\n        );\n      }\n\n      return [...currentItems, { product, quantity }];\n    });\n  };\n\n  const removeItem = (productId: number) => {\n    setItems(currentItems => currentItems.filter(item => item.product.id !== productId));\n  };\n\n  const updateQuantity = (productId: number, quantity: number) => {\n    if (quantity < 1) {\n      removeItem(productId);\n      return;\n    }\n\n    setItems(currentItems =>\n      currentItems.map(item =>\n        item.product.id === productId\n          ? { ...item, quantity }\n          : item\n      )\n    );\n  };\n\n  const clearCart = () => {\n    setItems([]);\n  };\n\n  const totalItems = items.reduce((sum, item) => sum + item.quantity, 0);\n  const totalPrice = items.reduce(\n    (sum, item) => sum + Number(item.product.price) * item.quantity,\n    0\n  );\n\n  return (\n    <CartContext.Provider\n      value={{\n        items,\n        addItem,\n        removeItem,\n        updateQuantity,\n        clearCart,\n        totalItems,\n        totalPrice\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n}\n\nexport function useCart() {\n  const context = useContext(CartContext);\n  if (context === undefined) {\n    throw new Error('useCart must be used within a CartProvider');\n  }\n  return context;\n} "],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAoBA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAc,EAAE;IAEjD,uCAAuC;IACvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,YAAY,aAAa,OAAO,CAAC;QACvC,IAAI,WAAW;YACb,SAAS,KAAK,KAAK,CAAC;QACtB;IACF,GAAG,EAAE;IAEL,gDAAgD;IAChD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;IAC9C,GAAG;QAAC;KAAM;IAEV,MAAM,UAAU,CAAC,SAAkB,WAAW,CAAC;QAC7C,SAAS,CAAA;YACP,MAAM,eAAe,aAAa,IAAI,CAAC,CAAA,OAAQ,KAAK,OAAO,CAAC,EAAE,KAAK,QAAQ,EAAE;YAE7E,IAAI,cAAc;gBAChB,OAAO,aAAa,GAAG,CAAC,CAAA,OACtB,KAAK,OAAO,CAAC,EAAE,KAAK,QAAQ,EAAE,GAC1B;wBAAE,GAAG,IAAI;wBAAE,UAAU,KAAK,QAAQ,GAAG;oBAAS,IAC9C;YAER;YAEA,OAAO;mBAAI;gBAAc;oBAAE;oBAAS;gBAAS;aAAE;QACjD;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,SAAS,CAAA,eAAgB,aAAa,MAAM,CAAC,CAAA,OAAQ,KAAK,OAAO,CAAC,EAAE,KAAK;IAC3E;IAEA,MAAM,iBAAiB,CAAC,WAAmB;QACzC,IAAI,WAAW,GAAG;YAChB,WAAW;YACX;QACF;QAEA,SAAS,CAAA,eACP,aAAa,GAAG,CAAC,CAAA,OACf,KAAK,OAAO,CAAC,EAAE,KAAK,YAChB;oBAAE,GAAG,IAAI;oBAAE;gBAAS,IACpB;IAGV;IAEA,MAAM,YAAY;QAChB,SAAS,EAAE;IACb;IAEA,MAAM,aAAa,MAAM,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,QAAQ,EAAE;IACpE,MAAM,aAAa,MAAM,MAAM,CAC7B,CAAC,KAAK,OAAS,MAAM,OAAO,KAAK,OAAO,CAAC,KAAK,IAAI,KAAK,QAAQ,EAC/D;IAGF,qBACE,8OAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///Users/fhkoeb977/Documents/Projects/Cursor/src/lib/db/schema.ts"],"sourcesContent":["import { pgTable, serial, text, integer, boolean, decimal, timestamp } from 'drizzle-orm/pg-core';\n\nexport const products = pgTable('products', {\n  id: serial('id').primaryKey(),\n  name: text('name').notNull(),\n  description: text('description').notNull(),\n  price: decimal('price', { precision: 10, scale: 2 }).notNull(),\n  image: text('image').notNull(),\n  category: text('category').notNull(),\n  rating: decimal('rating', { precision: 3, scale: 1 }).notNull(),\n  reviews: integer('reviews').notNull(),\n  inStock: boolean('in_stock').notNull().default(true),\n  pieces: integer('pieces').notNull(),\n  ageRange: text('age_range').notNull(),\n  createdAt: timestamp('created_at').defaultNow().notNull(),\n  updatedAt: timestamp('updated_at').defaultNow().notNull()\n});\n\nexport type Product = typeof products.$inferSelect;\nexport type NewProduct = typeof products.$inferInsert; "],"names":[],"mappings":";;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEO,MAAM,WAAW,CAAA,GAAA,qJAAA,CAAA,UAAO,AAAD,EAAE,YAAY;IAC1C,IAAI,CAAA,GAAA,iKAAA,CAAA,SAAM,AAAD,EAAE,MAAM,UAAU;IAC3B,MAAM,CAAA,GAAA,+JAAA,CAAA,OAAI,AAAD,EAAE,QAAQ,OAAO;IAC1B,aAAa,CAAA,GAAA,+JAAA,CAAA,OAAI,AAAD,EAAE,eAAe,OAAO;IACxC,OAAO,CAAA,GAAA,kKAAA,CAAA,UAAO,AAAD,EAAE,SAAS;QAAE,WAAW;QAAI,OAAO;IAAE,GAAG,OAAO;IAC5D,OAAO,CAAA,GAAA,+JAAA,CAAA,OAAI,AAAD,EAAE,SAAS,OAAO;IAC5B,UAAU,CAAA,GAAA,+JAAA,CAAA,OAAI,AAAD,EAAE,YAAY,OAAO;IAClC,QAAQ,CAAA,GAAA,kKAAA,CAAA,UAAO,AAAD,EAAE,UAAU;QAAE,WAAW;QAAG,OAAO;IAAE,GAAG,OAAO;IAC7D,SAAS,CAAA,GAAA,kKAAA,CAAA,UAAO,AAAD,EAAE,WAAW,OAAO;IACnC,SAAS,CAAA,GAAA,kKAAA,CAAA,UAAO,AAAD,EAAE,YAAY,OAAO,GAAG,OAAO,CAAC;IAC/C,QAAQ,CAAA,GAAA,kKAAA,CAAA,UAAO,AAAD,EAAE,UAAU,OAAO;IACjC,UAAU,CAAA,GAAA,+JAAA,CAAA,OAAI,AAAD,EAAE,aAAa,OAAO;IACnC,WAAW,CAAA,GAAA,oKAAA,CAAA,YAAS,AAAD,EAAE,cAAc,UAAU,GAAG,OAAO;IACvD,WAAW,CAAA,GAAA,oKAAA,CAAA,YAAS,AAAD,EAAE,cAAc,UAAU,GAAG,OAAO;AACzD","debugId":null}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///Users/fhkoeb977/Documents/Projects/Cursor/src/lib/db.ts"],"sourcesContent":["import { drizzle } from 'drizzle-orm/node-postgres';\nimport { Pool } from 'pg';\nimport * as schema from './db/schema';\n\nconst pool = new Pool({\n  connectionString: process.env.DATABASE_URL || 'postgresql://postgres:postgres@localhost:5432/playmais'\n});\n\nexport const db = drizzle(pool, { schema });\nexport { schema }; "],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;;;;;;AAEA,MAAM,OAAO,IAAI,oGAAA,CAAA,OAAI,CAAC;IACpB,kBAAkB,QAAQ,GAAG,CAAC,YAAY,IAAI;AAChD;AAEO,MAAM,KAAK,CAAA,GAAA,4JAAA,CAAA,UAAO,AAAD,EAAE,MAAM;IAAE,QAAA;AAAO","debugId":null}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///Users/fhkoeb977/Documents/Projects/Cursor/src/app/product/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useCart } from '@/lib/cart';\nimport { db } from '@/lib/db';\nimport { products } from '@/lib/db/schema';\nimport { eq } from 'drizzle-orm';\nimport Image from 'next/image';\nimport { notFound } from 'next/navigation';\nimport { useState } from 'react';\nimport ProductDetails from './ProductDetails';\n\ninterface ProductPageProps {\n  params: {\n    id: string;\n  };\n}\n\nasync function getProduct(id: string) {\n  const product = await db.select().from(products).where(eq(products.id, parseInt(id))).limit(1);\n  return product[0];\n}\n\nexport default async function ProductPage({ params }: ProductPageProps) {\n  const product = await getProduct(params.id);\n\n  if (!product) {\n    notFound();\n  }\n\n  return <ProductDetails product={product} />;\n}\n\nfunction ProductDetails({ product }: { product: any }) {\n  const { addItem } = useCart();\n  const [quantity, setQuantity] = useState(1);\n\n  const handleAddToCart = () => {\n    addItem(product, quantity);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-12\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n          {/* Product Image */}\n          <div className=\"relative aspect-square group\">\n            <div className=\"absolute inset-0 overflow-hidden rounded-lg\">\n              <Image\n                src={product.image}\n                alt={product.name}\n                fill\n                className=\"object-cover transition-transform duration-300 group-hover:scale-110\"\n              />\n            </div>\n          </div>\n\n          {/* Product Info */}\n          <div className=\"space-y-6\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">{product.name}</h1>\n              <p className=\"mt-2 text-2xl text-gray-900\">${Number(product.price).toFixed(2)}</p>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <h2 className=\"text-lg font-medium text-gray-900\">Description</h2>\n                <p className=\"mt-2 text-gray-600\">{product.description}</p>\n              </div>\n\n              <div>\n                <h2 className=\"text-lg font-medium text-gray-900\">Details</h2>\n                <dl className=\"mt-2 space-y-2\">\n                  <div className=\"flex justify-between\">\n                    <dt className=\"text-gray-600\">Category</dt>\n                    <dd className=\"text-gray-900\">{product.category}</dd>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <dt className=\"text-gray-600\">Age Range</dt>\n                    <dd className=\"text-gray-900\">{product.ageRange}</dd>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <dt className=\"text-gray-600\">Pieces</dt>\n                    <dd className=\"text-gray-900\">{product.pieces}</dd>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <dt className=\"text-gray-600\">Rating</dt>\n                    <dd className=\"text-gray-900\">{product.rating}/5</dd>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <dt className=\"text-gray-600\">Reviews</dt>\n                    <dd className=\"text-gray-900\">{product.reviews}</dd>\n                  </div>\n                </dl>\n              </div>\n\n              <div className=\"border-t border-gray-200 pt-6\">\n                <div className=\"flex items-center space-x-4\">\n                  <label htmlFor=\"quantity\" className=\"text-sm font-medium text-gray-700\">\n                    Quantity\n                  </label>\n                  <select\n                    id=\"quantity\"\n                    value={quantity}\n                    onChange={(e) => setQuantity(Number(e.target.value))}\n                    className=\"rounded-md border-gray-300 py-1.5 text-base leading-5 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm\"\n                  >\n                    {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((num) => (\n                      <option key={num} value={num}>\n                        {num}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <button\n                  onClick={handleAddToCart}\n                  className=\"mt-6 w-full bg-indigo-600 text-white px-6 py-3 rounded-md font-medium hover:bg-indigo-700 transition-colors\"\n                >\n                  Add to Cart\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":"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","debugId":null}}]
}